:root{
  --bg: #0b0f16;
  --card: #0f1720;
  --muted: #9aa4b2;
  --accent: #16a34a;
  --paper: #ffffff;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#061016 0%,#0b0f16 100%);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#e6eef6;-webkit-font-smoothing:antialiased}
.container{max-width:1100px;margin:20px auto;padding:14px}
.controls{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:12px}
.input-group{display:flex;gap:8px;align-items:center;flex:1;min-width:220px}
input[type="text"]{flex:1;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:#07121b;color:#e6eef6}
input[type="file"]{padding:6px;border-radius:8px;background:#07121b;color:#e6eef6;border:1px solid rgba(255,255,255,0.06)}
.btn{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.06);color:#e6eef6;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
.btn.big{padding:12px 16px;font-size:16px}
.meta{margin-left:auto;text-align:right;color:var(--muted);font-size:13px}
.page-number{font-weight:700;color:#fff}
.total{font-size:13px;color:var(--muted)}

/* Stage & Book */
.stage{display:flex;justify-content:center;align-items:center}
.book{perspective:2200px;width:100%;max-width:980px}
.spread{position:relative;margin:0 auto;display:flex;gap:12px;align-items:center;justify-content:center;height:580px}
.page{width:calc(50% - 6px);height:100%;background:var(--paper);border-radius:8px;overflow:hidden;box-shadow:0 8px 30px rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;transform-origin:center center}
.page img{width:100%;height:100%;object-fit:contain;display:block}
.placeholder{padding:18px;color:#777;}

/* flip-layer (the animated page) */
.flip-layer{position:absolute;top:0;left:50%;width:50%;height:100%;transform-origin:left center;transform-style:preserve-3d;z-index:40;pointer-events:none;display:none}
.flip-layer.show{display:block;pointer-events:auto}
.flip-layer .face{position:absolute;inset:0;background:var(--paper);backface-visibility:hidden;-webkit-backface-visibility:hidden;border-radius:8px;overflow:hidden;box-shadow:0 18px 50px rgba(0,0,0,0.7);background-size:cover;background-position:center center}
.flip-layer .back{transform:rotateY(180deg);}

/* Animation class toggled by JS */
.flip-animate{transition:transform 700ms cubic-bezier(.2,.9,.3,1);will-change:transform}

/* thumbs */
.footer{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:12px;flex-wrap:wrap}
.thumbs{display:flex;gap:8px;align-items:center;overflow:auto;padding:6px;border-radius:8px}
.thumbs img{width:56px;height:74px;object-fit:cover;border-radius:6px;border:2px solid transparent;cursor:pointer}
.thumbs img.active{border-color:var(--accent);transform:scale(1.03)}

/* loader */
.loader{display:inline-block;margin-left:8px;width:18px;height:18px;border-radius:50%;border:3px solid rgba(255,255,255,0.08);border-top-color:var(--accent);animation:spin .9s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* responsive tweaks */
@media (max-width:1000px){
  .spread{height:460px}
  .page{border-radius:6px}
}
@media (max-width:700px){
  .controls{gap:8px}
  .spread{height:360px;gap:8px;padding:0 6px}
  .page{width:100%;height:100%}
  .flip-layer{display:none !important} /* on small screens we use instant change + swipe */
  .btn.big{padding:10px 12px}
  .input-group{flex-basis:100%}
}
